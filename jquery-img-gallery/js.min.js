var imgs=["i4","i5","i6","i7","i8","i9"];var imgDir="../pairs-compressed/";var imgUrls=imgs.map(function(e){return imgDir+e+".jpg"});var makeDivLeft=function(e){return'<div class="showNew" id="'+e+'" style="left:-100%;"><img src="'+imgDir+e+'.jpg" alt="" id="current"></div>'};var makeDivRight=function(e){return'<div class="showNew" id="'+e+'" style="left:100%;"><img src="'+imgDir+e+'.jpg" alt="" id="current"></div>'};var substitute=function(e,t){var n=imgs.indexOf(e);var r=n+t;if(r>=imgs.length){return"i4"}else if(r<0){return"i9"}else{return imgs[r]}};var preLoad=function(){$(imgUrls).each(function(){(new Image).src=this});console.log("preloading imgs...")};var poz=null;var getPos=function(){poz=$(".highlighted").position()};var goBack=function(){var e=$(".show").attr("id");var t=substitute(e,-1);var n=makeDivLeft(t);$(".show").animate({left:"100%",opacity:"0"},250,function(){$(this).remove()});$(".container").append(n);$(".showNew").animate({left:"0",opacity:"1"},250,function(){$(this).toggleClass("showNew").toggleClass("show")});$("#"+e+"small, #"+t+"small").toggleClass("highlighted");getPos();$(".slider").animate({left:String(poz.left+2)},500)};var goForward=function(){var e=$(".show").attr("id");var t=substitute(e,1);var n=makeDivRight(t);$(".show").animate({left:"-100%",opacity:"0"},250,function(){$(this).remove()});$(".container").append(n);$(".showNew").animate({left:"0",opacity:"1"},250,function(){$(this).toggleClass("showNew").toggleClass("show")});$("#"+e+"small, #"+t+"small").toggleClass("highlighted");getPos();$(".slider").animate({left:String(poz.left+2)},500)};$(function(){$(window).load(function(){preLoad();$(".thumbs").animate({opacity:"1"},200)});getPos();$(".slider").css({left:poz.left+2});var e=$("#current");if(e.prop("complete")){var t=$("#current").height();$(".container,.show").css({"min-height":t});$(".back,.forward").css({height:t});$(".arrowleft,.arrowright").css({top:t/2-10})}else{e.load(function(){var e=$("#current").height();$(".container").css({"min-height":e});$(".back,.forward").css({height:e});$(".arrowleft,.arrowright").css({top:e/2-10})})}$(window).resize(function(){poz=$(".highlighted").position();$(".slider").css({left:poz.left+2});var e=$("#current").height();$(".container").css({"min-height":e});$(".back,.forward").css({height:e});$(".arrowleft,.arrowright").css({top:e/2-10})});$(".fadeIn").animate({opacity:"1"},200);var n=0;$(".back").click(function(e){var t=e.timeStamp;var r=t-n;if(r>500){goBack();n=t}}).hover(function(){$(".arrowleft").animate({left:"+=50"},500)},function(){$(".arrowleft").animate({left:"-=50"},500)});$(".forward").click(function(e){var t=e.timeStamp;var r=t-n;if(r>500){goForward();n=t}}).hover(function(){$(".arrowright").animate({right:"+=50"},500)},function(){$(".arrowright").animate({right:"-=50"},500)});var r=0;var i=0;$(document.documentElement).keyup(function(e){var t=e.keyCode;newPress=e.timeStamp;i=newPress-r;if(t==37&&i>500){goBack();r=newPress}else if(t==39&&i>500){goForward();r=newPress}}).keydown(function(e){var t=e.keyCode;if(t>=37&&t<=40){return false}})})